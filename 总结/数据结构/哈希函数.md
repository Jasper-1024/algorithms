# 哈希函数

哈希函数将 key 均匀映射到槽位.是哈希表时间复杂度很小的基础.

这理论上哈希函数应该独立于 key 存在,对于任何 key 的集合都能均匀映射.但是没那么好的事情,常用哈希函数总是有发生哈希碰撞贼高的 key .

一节会提到 3.5 个常用哈希函数.

- 乘法/除法哈希是简单易用.为避免最坏情况,会有参数取值的限制.
- 全域哈希是给哈希函数增加了随机选择,避免最坏情况的 $n^2$ 时间复杂度
- 完全哈希则是另一种思路,根据 key 构造一个最坏情况也是 $O(1)$ 的哈希表,姑且算半个.

ps:

- 这里假设键值都是自然数.字符串等键值也转换到自然数进行 hash 运算.

## 除法哈希函数

最简单的哈希函数

$$
h(k) = k \bmod m
$$

- m 不应该太小,使得装载因子太大.
- m 不应该取 $2^r$,$10^r$.当是这些数时,相当于一直取 key 对应进制下的低位数.
- m 最好是与需求规模差不多的素数.
- 特别要避免 $h(k)$ 一直是偶数.这样一半的哈希表覆盖不到.

## 乘法哈希函数

下面是课程中提到的乘法哈希函数.应该是er'ji

$$
h(k) = (Ak \bmod 2^w) rsh (w - r)
$$

- w 是计算机位数
- A 是奇数,在 $(2^{w-r},2^w)$ 之间.不要取 $2^r$ 及其附近值.
- rsh 是向右移位.

## 全域哈希函数

## \*完全哈希

